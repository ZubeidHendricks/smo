<ngx-spinner bdColor="rgba(51,51,51,0.8)" size="large" color="#fff" type="ball-spin-clockwise">
    <p style="font-size: 20px; color: white">Loading...</p>
</ngx-spinner>
<p-toast></p-toast>
<p-panel [toggleable]="false" [style]="{'font-size':'12px'}" header="New Funding">
    <p-menubar [model]="menuActions" [style]="{'font-size':'14px', 'height': '43px'}" *ngIf="IsAuthorized(PermissionsEnum.ShowNpoFundingActions)"></p-menubar>
    <p-messages [(value)]="validationErrors" [closable]="false" [enableService]="false"></p-messages>
    <div style="height: 10px;"></div>
    <p-steps [model]="items" [readonly]="true" [activeIndex]="activeStep"></p-steps>
    <div style="height: 10px;"></div>
    
    <!-- Funding Steps -->
    <app-funding-detail *ngIf="activeStep == FundingStepsEnum.FundingDetail" [(activeStep)]="activeStep" [newFunding]="true" (retrievedNpoProfile)="updateNpoProfile($event)"></app-funding-detail>
    <app-service-delivery-area *ngIf="activeStep == FundingStepsEnum.ServiceDeliveryArea" [(activeStep)]="activeStep"></app-service-delivery-area>
    <app-payment-schedule *ngIf="activeStep == FundingStepsEnum.PaymentSchedule" [(activeStep)]="activeStep"></app-payment-schedule>
    <app-bank-detail *ngIf="activeStep == FundingStepsEnum.BankDetails" [(activeStep)]="activeStep" [npoProfile]="npoProfile"></app-bank-detail>

    <div style="height: 10px;"></div>
    <p-menubar [model]="menuActions" [style]="{'font-size':'14px', 'height': '43px'}" *ngIf="IsAuthorized(PermissionsEnum.ShowNpoFundingActions)"></p-menubar>
</p-panel>